---
kind: pipeline
name: go-test

steps:
- name: test
  image: golang:1.13
  commands:
  - go test -v ./...

---
kind: pipeline
name: go-build

steps:
- name: build-obsd
  image: golang:1.13
  environment:
    GOARCH: amd64
    GOOS: openbsd
  commands:
  - go build ./cmd/cetus

- name: build-linux
  image: golang:1.13
  environment:
    GOARCH: amd64
    GOOS: linux
  commands:
  - go build ./cmd/cetus

- name: build-darwin
  image: golang:1.13
  environment:
    GOARCH: amd64
    GOOS: darwin
  commands:
  - go build ./cmd/cetus
